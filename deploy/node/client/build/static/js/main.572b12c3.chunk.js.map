{"version":3,"sources":["assets/logo2.svg","context/auth.js","components/PrivateRoute.jsx","mui/theme.js","components/Header.jsx","components/TableIcons.jsx","helpers/api.js","components/UsersTable.jsx","components/EditorForm.jsx","components/EditorModal.jsx","components/TodoTable.jsx","components/TodoModal.jsx","components/ImageUpload.jsx","components/ImageUploadModal.jsx","components/Home.jsx","components/UserPassForm.jsx","components/Login.jsx","components/Register.jsx","components/Healthcheck.jsx","components/Todos.jsx","components/Profile.jsx","components/App.jsx","index.js"],"names":["module","exports","AuthContext","createContext","SetAuthContext","AuthProvider","children","existingTokens","JSON","parse","localStorage","getItem","useState","authToken","setAuthToken","Provider","value","data","length","removeItem","setItem","stringify","useAuthToken","context","useContext","undefined","Error","useSetAuthToken","PrivateRoute","rest","to","pathname","state","referer","path","createMuiTheme","palette","common","blue","orange","brick","primary","main","secondary","typography","tab","fontFamily","fontWeight","fontSize","textTransform","estimate","color","useStyles","makeStyles","theme","toolbarMargin","mixins","toolbar","marginBottom","logoContainer","margin","padding","backgroundColor","logo","height","minWidth","tabContainer","marginLeft","loginTab","marginRight","hidden","display","button","borderRadius","paddingLeft","paddingRight","minHeight","menuMap","Map","ElevationScroll","props","window","trigger","useScrollTrigger","disableHysteresis","threshold","target","React","cloneElement","elevation","Header","classes","useLocation","activeMenu","setActiveMenu","useEffect","has","get","Fragment","AppBar","position","disableGutters","Button","component","Link","className","disableRipple","src","alt","Tabs","onChange","event","indicatorColor","Tab","label","onClick","variant","Typography","tableIcons","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","ListAlt","Person","Face","Close","API","authTokens","endpoint","method","config","headers","Accept","Authorization","body","fetch","then","response","json","catch","error","console","log","UsersTable","setTodosOfUser","setAvatarId","users","setUsers","Array","isArray","renderAvatar","imgSrc","username","Avatar","components","Toolbar","style","columns","title","field","headerStyle","defaultSort","render","rowData","alignItems","width","textAlign","avatar","renderUserField","icons","actions","icon","tooltip","disabled","id","options","actionsColumnIndex","initialValues","owner","todotitle","todobody","ErrMessage","EditorForm","edited","setEdited","newTodoForUserId","setModalKey","todoValues","setTodoValues","getInitialValues","useCallback","a","gotResponse","todo","Card","CardContent","enableReinitialize","onSubmit","values","formikHelpers","Math","random","saveTodo","errors","isSubmitting","isValidating","Box","FormGroup","name","as","TextField","multiline","rows","rowsMax","type","modal","justifyContent","paper","background","border","boxShadow","shadows","spacing","EditorModal","handleClose","Modal","aria-labelledby","aria-describedby","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Paper","Grid","container","justify","item","IconButton","columnsForUser","columnsForAll","TodoTable","todosOfUser","todos","setTodos","todoId","isFreeAction","TodoModal","modalKey","key","ImageUpload","errorText","userId","avatarId","setParentKey","file","setFile","preview","setPreview","isValid","setIsValid","filePickerRef","useRef","fileReader","FileReader","onload","result","readAsDataURL","accept","e","files","pickedFile","maxWidth","maxHeight","marginTop","current","click","formData","FormData","append","uploadImage","centerContent","ImageUploadModal","history","Home","usersTableKey","setUsersTableKey","textfield","UserPassForm","submitText","submitAction","setUsername","password","setPassword","preventDefault","placeholder","withRouter","location","push","login","accessToken","reason","register","status","message","paragraph","setData","healthcheck","large","reload","setReload","user","App","ThemeProvider","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.572b12c3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo2.d2de3a30.svg\";","import React, { createContext, useContext, useState } from \"react\";\n\nconst AuthContext = createContext();\nconst SetAuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const TOKENNAME = \"token-sw-todo\"\n  const existingTokens = JSON.parse(localStorage.getItem(TOKENNAME))\n  const [authToken, setAuthToken] = useState(existingTokens)\n\n  const setToken = (data) => {\n    // console.log(\"setToken called. current token is\", authToken)\n    if (!data || typeof data !== 'string' || data.length < 10) {\n      // possible not valid token.\n      // assume we want to remove token (to log out)\n      // console.log(\"Removing token\")\n      setAuthToken(\"\")\n      localStorage.removeItem(TOKENNAME)\n    } else {\n      // console.log(\"Set new token\", data)\n      localStorage.setItem(TOKENNAME, JSON.stringify(data))\n      setAuthToken(data)\n    }\n  }\n\n  return (\n    <AuthContext.Provider value={authToken}>\n      <SetAuthContext.Provider value={setToken}>\n        {children}\n      </SetAuthContext.Provider>\n    </AuthContext.Provider>\n  )\n}\n\nexport const useAuthToken = () => {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error('useAuthToken must be used within AuthProvider')\n  }\n  return context\n}\n\nexport const useSetAuthToken = () => {\n  const context = useContext(SetAuthContext)\n  if (context === undefined) {\n    throw new Error('useSetAuthToken must be used within AuthProvider')\n  }\n  return context\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuthToken } from \"../context/auth\"\n\nexport default function PrivateRoute({ children, ...rest }) {\n  const authToken = useAuthToken()\n\n  return (\n    <Route {...rest}>\n      {authToken ? (\n        children\n      ) : (\n        <Redirect\n          to={{ pathname: \"/login\", state: { referer: { ...rest }.path } }}\n        />\n      )}\n    </Route>\n  )\n}\n","import createMuiTheme from '@material-ui/core/styles/createMuiTheme'\n\nconst blue = '#0B72B9'\nconst orange = '#FFBA60'\nconst brick = '#B73232'\n\n\nexport default createMuiTheme({\n  palette: {\n    common: {\n      blue,\n      orange,\n      brick\n    },\n    primary: {\n      main: blue\n    },\n    secondary: {\n      main: orange\n    }\n  },\n  typography: {\n    tab: {\n      fontFamily: \"Raleway\",\n      fontWeight: 700,\n      fontSize: \"1rem\",\n      textTransform: \"none\",\n    },\n    estimate: {\n      fontFamily: \"Pacifico\",\n      fontSize: \"1rem\",\n      textTransform: \"none\",\n      color: \"white\"\n    }\n  }\n})\n\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport { Toolbar } from \"@material-ui/core\"\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\"\nimport Typography from \"@material-ui/core/Typography\"\nimport makeStyles from \"@material-ui/styles/makeStyles\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport Button from \"@material-ui/core/Button\"\n// import Menu from \"@material-ui/core/Menu\"\n// import MenuItem from \"@material-ui/core/MenuItem\"\n\nimport { useAuthToken, useSetAuthToken } from \"../context/auth\"\nimport logo from \"../assets/logo2.svg\"\n\nconst useStyles = makeStyles((theme) => ({\n  toolbarMargin: {\n    ...theme.mixins.toolbar,\n    marginBottom: \"3em\",\n  },\n  logoContainer: {\n    margin: 0,\n    padding: 0,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  logo: {\n    height: \"7em\",\n    minWidth: \"24em\",\n  },\n  tabContainer: {\n    marginLeft: \"auto\",\n  },\n  tab: {\n    ...theme.typography.tab,\n    minWidth: 10,\n    marginLeft: \"25px\",\n  },\n  loginTab: {\n    ...theme.typography.tab,\n    minWidth: 10,\n    marginLeft: \"25px\",\n    marginRight: \"28px\",\n  },\n  hidden: {\n    display: \"none\",\n  },\n  button: {\n    ...theme.typography.estimate,\n    borderRadius: \"1.4em\",\n    marginLeft: \"50px\",\n    marginRight: \"25px\",\n    paddingLeft: \"25px\",\n    paddingRight: \"25px\",\n    minHeight: \"45px\",\n  },\n}))\n\nconst menuMap = new Map([\n  [\"/adduser\", 0],\n  [\"/todos\", 1],\n  [\"/profile\", 2],\n  [\"/healthcheck\", 2],\n  [\"/login\", 3],\n])\n\nconst ElevationScroll = (props) => {\n  const { children, window } = props\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n    target: window ? window() : undefined,\n  })\n  return React.cloneElement(children, {\n    elevation: trigger ? 10 : 0,\n  })\n}\n\nconst Header = (props) => {\n  const authToken = useAuthToken()\n  const setAuthToken = useSetAuthToken()\n  const classes = useStyles()\n  let { pathname } = useLocation()\n\n  const [activeMenu, setActiveMenu] = useState(false)\n  const activeMenuSwitch = (event, value) => setActiveMenu(value)\n\n  // effect to re-set the active menu in Header, if needed.\n  useEffect(() => {\n    // console.log(\"Location has changed. pathname:\", pathname)\n    if (menuMap.has(pathname)) {\n      if (menuMap.get(pathname) !== activeMenu) {\n        setActiveMenu(menuMap.get(pathname))\n      }\n    } else {\n      // console.log(\"on a path without a menuItem: \", pathname)\n      setActiveMenu(false)\n    }\n  }, [pathname, activeMenu])\n\n  return (\n    <React.Fragment>\n      <ElevationScroll {...props}>\n        <AppBar position=\"fixed\" color=\"primary\">\n          <Toolbar disableGutters>\n            <Button\n              component={Link}\n              to=\"/\"\n              className={classes.logoContainer}\n              disableRipple\n            >\n              <img src={logo} alt=\"Three Layer Todo\" className={classes.logo} />\n            </Button>\n            <Tabs\n              value={activeMenu}\n              onChange={activeMenuSwitch}\n              className={classes.tabContainer}\n              indicatorColor=\"primary\" // hiding the underline\n            >\n              <Tab\n                className={classes.tab}\n                label=\"Add User\"\n                component={Link}\n                to=\"/adduser\"\n              />\n              <Tab\n                className={classes.tab}\n                label=\"Todos\"\n                component={Link}\n                to=\"/todos\"\n              />\n              {authToken ? (\n                <Tab\n                  className={classes.tab}\n                  label=\"Profile\"\n                  component={Link}\n                  to=\"/profile\"\n                />\n              ) : (\n                <Tab\n                  className={classes.tab}\n                  label=\"Healthcheck\"\n                  component={Link}\n                  to=\"/healthcheck\"\n                />\n              )}\n              {!authToken ? (\n                <Tab\n                  className={classes.loginTab}\n                  label=\"Login\"\n                  component={Link}\n                  to=\"/login\"\n                />\n              ) : (\n                <Tab\n                  className={classes.hidden}\n                  label=\"\"\n                  component={Link}\n                  to=\"/\"\n                />\n              )}\n            </Tabs>\n            {authToken && (\n              <Button\n                onClick={() => setAuthToken(\"\")}\n                variant=\"contained\"\n                color=\"secondary\"\n                className={classes.button}\n              >\n                Logout\n              </Button>\n            )}\n          </Toolbar>\n        </AppBar>\n      </ElevationScroll>\n      <div className={classes.toolbarMargin}>\n        <Typography variant=\"h3\" color=\"secondary\">\n          Toolbar\n        </Typography>\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default Header\n","import React, { forwardRef } from \"react\"\n\nimport AddBox from \"@material-ui/icons/AddBox\"\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\"\nimport Check from \"@material-ui/icons/Check\"\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\"\nimport ChevronRight from \"@material-ui/icons/ChevronRight\"\nimport Clear from \"@material-ui/icons/Clear\"\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport FilterList from \"@material-ui/icons/FilterList\"\nimport FirstPage from \"@material-ui/icons/FirstPage\"\nimport LastPage from \"@material-ui/icons/LastPage\"\nimport Remove from \"@material-ui/icons/Remove\"\nimport SaveAlt from \"@material-ui/icons/SaveAlt\"\nimport Search from \"@material-ui/icons/Search\"\nimport ViewColumn from \"@material-ui/icons/ViewColumn\"\nimport ListAlt from \"@material-ui/icons/ListAlt\"\nimport Person from \"@material-ui/icons/Person\"\nimport Face from \"@material-ui/icons/Face\"\nimport Close from \"@material-ui/icons/Close\"\n\nexport const tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\n  ListAlt: forwardRef((props, ref) => <ListAlt {...props} ref={ref} />),\n  Person: forwardRef((props, ref) => <Person {...props} ref={ref} />),\n  Face: forwardRef((props, ref) => <Face {...props} ref={ref} />),\n  Close: forwardRef((props, ref) => <Close {...props} ref={ref} />),\n}\n","export function API({ endpoint = \"\", method = \"GET\", data = {} }, authTokens) {\n  let config = {\n    method,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${authTokens}`,\n    },\n  };\n  if (method === 'POST' || method === 'PUT') {\n    config = { ...config, body: JSON.stringify(data) }\n  }\n  return fetch(endpoint, config)\n    .then((response) => {\n      return response.json();\n    })\n    .catch((error) => console.log(error));\n}\n\nexport function login({ username = \"\", password = \"\" }) {\n  const config = {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ username, password }),\n  };\n\n  return fetch(\"/api/auth/signin\", config)\n    .then((response) => {\n      return response.json();\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n\nexport function register({ username = \"\", password = \"\" }) {\n  const config = {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ username, password }),\n  };\n\n  return fetch(\"/api/auth/signup\", config)\n    .then((response) => {\n      return response.json();\n    })\n    .catch((error) => {\n      console.error(error);\n    });\n}\n\n\nexport function uploadImage(userId, formData, authTokens) {\n  const config = {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${authTokens}`,\n    },\n    body: formData,\n  };\n  return fetch(`/api/userimage/${userId}`, config)\n    .then((response) => {\n      return response.json();\n    })\n    .catch((error) => {\n      console.error(error);\n    });\n}\n\n","import React, { useEffect, useState } from \"react\"\nimport MaterialTable, { MTableToolbar } from \"material-table\"\nimport { tableIcons } from \"./TableIcons\"\nimport { API } from \"../helpers/api\"\nimport { useAuthToken } from \"../context/auth\"\nimport { Typography, Avatar } from \"@material-ui/core\"\n\nexport default function UsersTable({ setTodosOfUser, setAvatarId }) {\n  const [users, setUsers] = useState([])\n  const authToken = useAuthToken()\n\n  useEffect(() => {\n    API({ endpoint: \"/api/user\" }).then((response) => {\n      setUsers(response?.users || [])\n    })\n  }, [setUsers])\n\n  if (!Array.isArray(users)) return <p>Waiting for users...</p>\n\n  // console.log(\"rendering users table. array is\", users)\n\n  const renderUserField = (rowData) => {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div\n          style={{\n            width: \"85px\",\n            textAlign: \"center\",\n          }}\n        >\n          {renderAvatar(rowData.avatar, rowData.username)}\n        </div>\n        {rowData.username}\n      </div>\n    )\n  }\n\n  const renderAvatar = (imgSrc, username) => {\n    if (!imgSrc) return <Avatar variant=\"square\">{username[0]}</Avatar>\n    return <Avatar alt=\"Avatar\" src={imgSrc} variant=\"square\" />\n  }\n\n  const handleUploadAvatar = (id) => {\n    setAvatarId(id)\n  }\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h4\">List of users</Typography>\n      <MaterialTable\n        components={{\n          Toolbar: (props) => (\n            <div style={{ backgroundColor: \"#e8eaf5\" }}>\n              <MTableToolbar {...props} />\n            </div>\n          ),\n        }}\n        columns={[\n          { title: \"ID\", field: \"id\" },\n          {\n            title: \"User\",\n            headerStyle: { paddingLeft: \"100px\" },\n            defaultSort: \"asc\",\n            field: \"username\",\n            render: (rowData) => renderUserField(rowData),\n          },\n        ]}\n        data={users}\n        title=\"Users\"\n        icons={tableIcons}\n        actions={[\n          {\n            icon: tableIcons.ListAlt,\n            tooltip: \"Show Todos\",\n            disabled: !authToken,\n            onClick: (event, rowData) => {\n              setTodosOfUser(rowData.id)\n            },\n          },\n          {\n            icon: tableIcons.Face,\n            tooltip: \"Upload avatar\",\n            disabled: !authToken,\n            onClick: (event, rowData) => {\n              handleUploadAvatar(rowData.id)\n            },\n          },\n        ]}\n        options={{\n          actionsColumnIndex: -1,\n        }}\n      />\n    </React.Fragment>\n  )\n}\n","import React, { useState, useEffect, useCallback } from \"react\"\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  FormGroup,\n  TextField,\n} from \"@material-ui/core\"\nimport { ErrorMessage, Field, Form, Formik } from \"formik\"\n\nimport { API } from \"../helpers/api\"\nimport { useAuthToken } from \"../context/auth\"\n\nconst initialValues = {\n  owner: null,\n  todotitle: \"\",\n  todobody: \"\",\n}\n\nconst ErrMessage = (props) => {\n  return (\n    <div className=\"errormessage\" style={{ color: \"red\" }}>\n      <ErrorMessage {...props} />\n    </div>\n  )\n}\n\nconst EditorForm = ({ edited, setEdited, newTodoForUserId, setModalKey }) => {\n  const authToken = useAuthToken()\n  const [todoValues, setTodoValues] = useState(initialValues)\n\n  const getInitialValues = useCallback(async () => {\n    if (edited && typeof edited === \"number\") {\n      console.log(\"Loading default values of todo \", edited)\n      const gotResponse = await API(\n        { endpoint: `/api/todo/${edited}` },\n        authToken\n      )\n      console.log(\"Initializing with\", gotResponse?.todo || initialValues)\n      setTodoValues(gotResponse?.todo || initialValues)\n    } else {\n      console.log(\"Initializing with defaults.\")\n      setTodoValues(initialValues)\n    }\n  }, [authToken, edited])\n\n  useEffect(() => {\n    getInitialValues()\n  }, [getInitialValues])\n\n  const saveTodo = (values) => {\n    const data = {\n      owner: newTodoForUserId,\n      todotitle: values.todotitle,\n      todobody: values.todobody,\n    }\n\n    if (values.owner) {\n      // update existing todo\n      API(\n        { endpoint: `/api/todo/${values.id}`, method: \"PUT\", data },\n        authToken\n      ).then((response) => {\n        console.log(\"Save response: \", response)\n        setEdited(false) // close self\n        setModalKey(Math.random()) // reload todo list\n      })\n    } else {\n      // create new todo for user\n      API({ endpoint: `/api/todo`, method: \"POST\", data }, authToken).then(\n        (response) => {\n          console.log(\"Create todo response: \", response)\n          // setEdited(response?.todo?.id || edited) // reload self\n          setEdited(false) // close self\n          setModalKey(Math.random()) // reload todo list\n        }\n      )\n    }\n  }\n\n  console.log(\"Editor renders:\", edited, todoValues)\n\n  return (\n    <Card>\n      <CardContent>\n        {/* <Typography variant=\"h4\">Todo</Typography> */}\n\n        <Formik\n          initialValues={todoValues}\n          enableReinitialize={true}\n          onSubmit={(values, formikHelpers) => {\n            saveTodo(values)\n          }}\n        >\n          {({ values, errors, isSubmitting, isValidating }) => (\n            <Form>\n              <Box marginBottom={2}>\n                <FormGroup>\n                  <Field name=\"todotitle\" as={TextField} label=\"Todo Title\" />\n                  <div className=\"errormessage\">\n                    <ErrMessage name=\"todotitle\" />\n                  </div>\n                </FormGroup>\n              </Box>\n              <Box marginBottom={2}>\n                <FormGroup>\n                  <Field\n                    name=\"todobody\"\n                    as={TextField}\n                    multiline\n                    rows={3}\n                    rowsMax={10}\n                    label=\"Todo Body\"\n                  />\n                  <ErrMessage name=\"todobody\" />\n                </FormGroup>\n              </Box>\n\n              <Button type=\"submit\" disabled={isSubmitting || isValidating}>\n                Submit\n              </Button>\n              {/* \n              <pre>{JSON.stringify(errors, null, 4)}</pre>\n              <pre>{JSON.stringify(values, null, 4)}</pre>\n               */}\n            </Form>\n          )}\n        </Formik>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default EditorForm\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Modal from \"@material-ui/core/Modal\"\nimport Backdrop from \"@material-ui/core/Backdrop\"\nimport Fade from \"@material-ui/core/Fade\"\nimport EditorForm from \"./EditorForm\"\nimport { IconButton, Paper, Grid, Typography } from \"@material-ui/core\"\nimport Close from \"@material-ui/icons/Close\"\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}))\n\nconst EditorModal = ({ edited, setEdited, newTodoForUserId, setModalKey }) => {\n  const classes = useStyles()\n\n  const handleClose = () => {\n    setEdited(false)\n  }\n\n  return (\n    <React.Fragment>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={!!edited}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={!!edited}>\n          <Paper className={classes.paper}>\n            <Grid container justify=\"space-between\">\n              <Grid item>\n                <Typography variant=\"h4\" color=\"inherit\">\n                  Todo editor\n                </Typography>\n              </Grid>\n              <Grid item>\n                <IconButton onClick={handleClose}>\n                  <Close />\n                </IconButton>\n              </Grid>\n            </Grid>\n\n            <EditorForm\n              edited={edited}\n              setEdited={setEdited}\n              newTodoForUserId={newTodoForUserId}\n              setModalKey={setModalKey}\n            />\n          </Paper>\n        </Fade>\n      </Modal>\n    </React.Fragment>\n  )\n}\n\nexport default EditorModal\n","import React, { useState, useEffect } from \"react\"\nimport { API } from \"../helpers/api\"\nimport MaterialTable, { MTableToolbar } from \"material-table\"\n\nimport { tableIcons } from \"./TableIcons\"\nimport { useAuthToken } from \"../context/auth\"\nimport EditorModal from \"./EditorModal\"\n\nconst columnsForUser = [\n  { title: \"ID\", field: \"id\" },\n  { title: \"Todo Title\", field: \"todotitle\" },\n  { title: \"Todo Body\", field: \"todobody\" },\n]\n\nconst columnsForAll = [\n  { title: \"ID\", field: \"id\" },\n  { title: \"Owner ID\", field: \"owner\" },\n  { title: \"Todo Title\", field: \"todotitle\" },\n  { title: \"Todo Body\", field: \"todobody\" },\n]\n\nconst TodoTable = ({ todosOfUser, setModalKey }) => {\n  const authToken = useAuthToken()\n  const [todos, setTodos] = useState([])\n  const [edited, setEdited] = useState()\n\n  useEffect(() => {\n    API(\n      {\n        endpoint: !!todosOfUser\n          ? `/api/todosofuser/${todosOfUser}`\n          : \"/api/todo\",\n      },\n      authToken\n    ).then((response) => {\n      // console.log(\"received todos for TodoTable\", response)\n      setTodos(response?.todos || [])\n    })\n  }, [setTodos, todosOfUser, authToken])\n\n  const editTodo = (todoId) => {\n    console.log(\"Edit todo\", todoId)\n    setEdited(todoId)\n  }\n\n  const removeTodo = (todoId) => {\n    console.log(\"REMOVE todo\", todoId)\n\n    API(\n      {\n        endpoint: `/api/todo/${todoId}`,\n        method: \"DELETE\",\n      },\n      authToken\n    ).then((response) => {\n      console.log(\"DELETE todo response\", response)\n      // reload ourselves!\n      setModalKey(Math.random())\n    })\n  }\n\n  const addNewTodo = () => {\n    if (!todosOfUser) {\n      console.log(\"AddNewTodo called, but no user ID present!\")\n    } else {\n      console.log(\"Add new todo for user\", todosOfUser)\n      setEdited(true)\n    }\n  }\n\n  if (!Array.isArray(todos)) return <p>Waiting for todos...</p>\n\n  // console.log(\"for one user?, TodoTable array:\", !!todosOfUser, todos)\n\n  return (\n    <React.Fragment>\n      <MaterialTable\n        components={{\n          Toolbar: (props) => (\n            <div style={{ backgroundColor: \"#e8eaf5\" }}>\n              <MTableToolbar {...props} />\n            </div>\n          ),\n        }}\n        columns={!!todosOfUser ? columnsForUser : columnsForAll}\n        data={todos}\n        title={!!todosOfUser ? \"Todos for User\" : \"All todos\"}\n        icons={tableIcons}\n        actions={[\n          {\n            icon: tableIcons.Edit,\n            tooltip: \"Edit Todo\",\n            onClick: (event, rowData) => {\n              editTodo(rowData.id)\n            },\n          },\n          {\n            icon: tableIcons.Delete,\n            tooltip: \"Remove Todo\",\n            onClick: (event, rowData) => {\n              removeTodo(rowData.id)\n            },\n          },\n          {\n            icon: tableIcons.Add,\n            disabled: !todosOfUser,\n            tooltip: \"Add New Todo\",\n            isFreeAction: true,\n            onClick: (event, rowData) => {\n              addNewTodo()\n            },\n          },\n        ]}\n        options={{\n          actionsColumnIndex: -1,\n        }}\n      />\n      <EditorModal\n        edited={edited}\n        setEdited={setEdited}\n        newTodoForUserId={todosOfUser}\n        setModalKey={setModalKey}\n      />\n    </React.Fragment>\n  )\n}\n\nexport default TodoTable\n","import React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Modal from \"@material-ui/core/Modal\"\nimport Backdrop from \"@material-ui/core/Backdrop\"\nimport Fade from \"@material-ui/core/Fade\"\nimport Close from \"@material-ui/icons/Close\"\nimport TodoTable from \"./TodoTable\"\nimport { IconButton, Paper, Grid, Typography } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    minWidth: \"50vw\",\n  },\n}))\n\nexport default function TodoModal({ todosOfUser, setTodosOfUser }) {\n  const classes = useStyles()\n  const [modalKey, setModalKey] = useState(Math.random())\n\n  const handleClose = () => {\n    setTodosOfUser(false)\n  }\n\n  return (\n    <React.Fragment>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={!!todosOfUser}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={!!todosOfUser}>\n          <Paper className={classes.paper}>\n            <Grid container justify=\"space-between\">\n              <Grid item>\n                <Typography variant=\"h4\" color=\"inherit\">\n                  Todos of User id {todosOfUser}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <IconButton onClick={handleClose}>\n                  <Close />\n                </IconButton>\n              </Grid>\n            </Grid>\n\n            <TodoTable\n              key={modalKey}\n              todosOfUser={todosOfUser}\n              setModalKey={setModalKey}\n            />\n          </Paper>\n        </Fade>\n      </Modal>\n    </React.Fragment>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { useEffect } from \"react\"\nimport { uploadImage } from \"../helpers/api\"\nimport { useAuthToken } from \"../context/auth\"\nimport { Button } from \"@material-ui/core\"\n\nconst ImageUpload = ({\n  errorText,\n  avatarId: userId,\n  setAvatarId,\n  setParentKey,\n}) => {\n  const [file, setFile] = useState()\n  const [preview, setPreview] = useState()\n  const [isValid, setIsValid] = useState(false)\n  const filePickerRef = useRef()\n  const authToken = useAuthToken()\n\n  const pickImageHandler = (e) => {\n    filePickerRef.current.click()\n  }\n\n  useEffect(() => {\n    if (!file) {\n      return\n    } else {\n      const fileReader = new FileReader()\n      fileReader.onload = () => {\n        setPreview(fileReader.result)\n      }\n      fileReader.readAsDataURL(file)\n    }\n  }, [file])\n\n  const pickedHandler = (e) => {\n    if (e?.target?.files || e.target.files.length > 0) {\n      const pickedFile = e.target.files[0]\n      setFile(pickedFile)\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }\n\n  const sendImageToServer = (e) => {\n    try {\n      const formData = new FormData()\n      formData.append(\"image\", file)\n      formData.append(\"userId\", userId)\n      uploadImage(userId, formData, authToken)\n        .then((response) => {\n          console.log(\"Image uploaded:\", response)\n          if (setAvatarId) setAvatarId(false)\n          setParentKey(Math.random())\n        })\n        .catch((error) => console.log(\"test user error\", error))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  return (\n    <div>\n      <input\n        id={\"avatarpicker-\" + userId}\n        type=\"file\"\n        ref={filePickerRef}\n        style={{ display: \"none\" }}\n        accept=\".jpg,.png,.jpeg,.webm,.gif\"\n        onChange={pickedHandler}\n      />\n      <div>\n        <div style={{ border: \"1px solid black\", height: 270, width: 270 }}>\n          {preview && (\n            <img\n              src={preview}\n              alt=\"Preview\"\n              style={{ maxWidth: 250, maxHeight: 250 }}\n            />\n          )}\n        </div>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          style={{\n            minWidth: 120,\n            marginTop: \"2em\",\n            marginBottom: \"1em\",\n            marginRight: \"1em\",\n          }}\n          onClick={pickImageHandler}\n        >\n          Pick Image\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          style={{ minWidth: 120, marginTop: \"2em\", marginBottom: \"1em\" }}\n          onClick={sendImageToServer}\n        >\n          SAVE\n        </Button>\n      </div>\n      {!isValid && <p>{errorText}</p>}\n    </div>\n  )\n}\n\nexport default ImageUpload\n","import React from \"react\"\nimport Modal from \"@material-ui/core/Modal\"\nimport Backdrop from \"@material-ui/core/Backdrop\"\nimport Fade from \"@material-ui/core/Fade\"\nimport ImageUpload from \"./ImageUpload\"\nimport {\n  Box,\n  IconButton,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\"\nimport Close from \"@material-ui/icons/Close\"\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  centerContent: {\n    maxWidth: \"300px\",\n    margin: \"auto\",\n  },\n}))\n\nconst ImageUploadModal = ({ avatarId, setAvatarId, setParentKey, history }) => {\n  const classes = useStyles()\n  // const [modalKey, setModalKey] = useState(Math.random())\n\n  const handleClose = () => {\n    setAvatarId(false)\n  }\n\n  return (\n    <React.Fragment>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={!!avatarId}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={!!avatarId}>\n          <Paper className={classes.paper}>\n            <Grid container justify=\"space-between\" alignItems=\"center\">\n              <Grid item>\n                <Typography variant=\"h6\" color=\"inherit\">\n                  Upload User Image\n                </Typography>\n              </Grid>\n              <Grid item>\n                <IconButton onClick={handleClose}>\n                  <Close />\n                </IconButton>\n              </Grid>\n            </Grid>\n            <Box>\n              <ImageUpload\n                // key={modalKey}\n                avatarId={avatarId}\n                setAvatarId={setAvatarId}\n                setParentKey={setParentKey}\n              />\n            </Box>\n          </Paper>\n        </Fade>\n      </Modal>\n    </React.Fragment>\n  )\n}\n\nexport default ImageUploadModal\n","import React from \"react\"\n\nimport UsersTable from \"./UsersTable\"\nimport TodoModal from \"./TodoModal\"\nimport ImageUploadModal from \"./ImageUploadModal\"\nimport { useState } from \"react\"\n\nexport default function Home() {\n  const [todosOfUser, setTodosOfUser] = useState()\n  const [avatarId, setAvatarId] = useState()\n  const [usersTableKey, setUsersTableKey] = useState(Math.random())\n  return (\n    <React.Fragment>\n      <UsersTable\n        key={usersTableKey}\n        todosOfUser={todosOfUser}\n        setTodosOfUser={setTodosOfUser}\n        setAvatarId={setAvatarId}\n        setUsersTableKey={setUsersTableKey}\n      />\n      <TodoModal todosOfUser={todosOfUser} setTodosOfUser={setTodosOfUser} />\n      <ImageUploadModal\n        avatarId={avatarId}\n        setAvatarId={setAvatarId}\n        setParentKey={setUsersTableKey}\n      />\n    </React.Fragment>\n  )\n}\n","import React, { useState } from \"react\"\nimport {\n  Box,\n  Button,\n  FormGroup,\n  TextField,\n  makeStyles,\n} from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    ...theme.typography.tab,\n    minWidth: 10,\n    marginTop: \"2em\",\n    marginBottom: \"1em\",\n  },\n  textfield: {\n    marginTop: \"0.7em\",\n    marginBottom: \"0.7em\",\n    maxWidth: \"250px\",\n  },\n}))\n\nexport default function UserPassForm({ submitText, submitAction }) {\n  const classes = useStyles()\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault()\n        submitAction(username, password)\n      }}\n    >\n      <Box>\n        <FormGroup>\n          <TextField\n            label=\"Username\"\n            name=\"username\"\n            type=\"text\"\n            placeholder=\"username\"\n            value={username}\n            className={classes.textfield}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </FormGroup>\n      </Box>\n      <Box>\n        <FormGroup>\n          <TextField\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"password\"\n            className={classes.textfield}\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </FormGroup>\n      </Box>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        type=\"submit\"\n        className={classes.button}\n      >\n        {submitText}\n      </Button>\n    </form>\n  )\n}\n","import React from \"react\"\nimport { Link, Redirect, withRouter } from \"react-router-dom\"\nimport {\n  Card,\n  CardContent,\n  IconButton,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\"\nimport Home from \"@material-ui/icons/Home\"\n\nimport { useSetAuthToken, useAuthToken } from \"../context/auth\"\nimport { login } from \"../helpers/api\"\nimport UserPassForm from \"./UserPassForm\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    minWidth: \"50vw\",\n  },\n  centerContent: {\n    maxWidth: \"300px\",\n    margin: \"auto\",\n  },\n}))\n\nconst Login = ({ history }) => {\n  const classes = useStyles()\n  const authToken = useAuthToken()\n  const setAuthToken = useSetAuthToken()\n\n  const referer = history?.location?.state?.referer || \"/\"\n\n  const postLogin = (username, password) => {\n    login({ username, password })\n      .then((response) => {\n        if (response.accessToken) {\n          setAuthToken(response.accessToken)\n        } else {\n          console.error(response.reason)\n        }\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n  if (authToken) {\n    return <Redirect to={referer} />\n  }\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.paper}>\n        <Grid\n          container\n          justify=\"space-between\"\n          className={classes.centerContent}\n        >\n          <Grid item>\n            <Typography variant=\"h4\" color=\"inherit\">\n              Login\n            </Typography>\n          </Grid>\n          <Grid item>\n            <IconButton onClick={() => history.push(\"/\")}>\n              <Home />\n            </IconButton>\n          </Grid>\n        </Grid>\n\n        <Card className={classes.centerContent}>\n          <CardContent>\n            <UserPassForm submitAction={postLogin} submitText=\"Sign In\" />\n            <Link to=\"/adduser\">\n              Don't have a user yet? Go to Add User page!\n            </Link>\n          </CardContent>\n        </Card>\n      </Paper>\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Login)\n","import React from \"react\"\nimport { Link, withRouter } from \"react-router-dom\"\nimport { register } from \"../helpers/api\"\n\nimport {\n  Card,\n  CardContent,\n  IconButton,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\"\nimport Home from \"@material-ui/icons/Home\"\n\nimport UserPassForm from \"./UserPassForm\"\nimport { useAuthToken } from \"../context/auth\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    minWidth: \"50vw\",\n  },\n  centerContent: {\n    maxWidth: \"300px\",\n    margin: \"auto\",\n  },\n}))\n\nconst Register = ({ history }) => {\n  const classes = useStyles()\n  const authToken = useAuthToken()\n\n  const postRegistration = (username, password) => {\n    register({ username, password }).then((response) => {\n      if (response.status === 200) {\n        console.log(response.message)\n      } else if (response.status >= 400) {\n        console.error(response.message)\n      }\n    })\n  }\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.paper}>\n        <Grid\n          container\n          justify=\"space-between\"\n          className={classes.centerContent}\n        >\n          <Grid item>\n            <Typography variant=\"h4\" color=\"inherit\">\n              Add new user\n            </Typography>\n          </Grid>\n          <Grid item>\n            <IconButton onClick={() => history.push(\"/\")}>\n              <Home />\n            </IconButton>\n          </Grid>\n        </Grid>\n\n        <Card className={classes.centerContent}>\n          <CardContent>\n            <UserPassForm\n              submitAction={postRegistration}\n              submitText=\"Register\"\n            />\n            {authToken ? (\n              <Link to=\"/\">Back to homepage</Link>\n            ) : (\n              <Link to=\"/login\">Go to login page.</Link>\n            )}\n          </CardContent>\n        </Card>\n      </Paper>\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Register)\n","import React, { useEffect, useState } from \"react\"\nimport { useAuthToken } from \"../context/auth\"\nimport { API } from \"../helpers/api\"\nimport { withRouter } from \"react-router-dom\"\n\nimport {\n  Box,\n  Card,\n  CardContent,\n  IconButton,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\"\nimport Home from \"@material-ui/icons/Home\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    minWidth: \"50vw\",\n  },\n  centerContent: {\n    maxWidth: \"300px\",\n    margin: \"auto\",\n  },\n  paragraph: {\n    marginTop: \"1em\",\n    marginBottom: \"1em\",\n  },\n}))\n\nconst Healthcheck = ({ history }) => {\n  const classes = useStyles()\n  const authToken = useAuthToken()\n  const [data, setData] = useState([])\n\n  useEffect(() => {\n    API({ endpoint: \"/api/test/healthcheck\" }, authToken).then((response) =>\n      setData(response)\n    )\n  }, [setData, authToken])\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.paper}>\n        <Grid\n          container\n          justify=\"space-between\"\n          className={classes.centerContent}\n        >\n          <Grid item>\n            <Typography variant=\"h4\" color=\"inherit\">\n              Healthcheck\n            </Typography>\n          </Grid>\n          <Grid item>\n            <IconButton onClick={() => history.push(\"/\")}>\n              <Home />\n            </IconButton>\n          </Grid>\n        </Grid>\n\n        <Card className={classes.centerContent}>\n          <CardContent>\n            <Typography variant=\"h6\" color=\"inherit\">\n              Checking connection\n            </Typography>\n            <Box className={classes.paragraph}>\n              {data?.healthcheck\n                ? \"Server is connected\"\n                : \"No HC response from server.\"}\n            </Box>\n          </CardContent>\n        </Card>\n      </Paper>\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Healthcheck)\n","import React, { useState } from \"react\"\nimport TodoTable from \"./TodoTable\"\nimport Home from \"@material-ui/icons/Home\"\nimport { withRouter } from \"react-router-dom\"\nimport {\n  IconButton,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    minWidth: \"50vw\",\n  },\n}))\n\nconst Todos = ({ history }) => {\n  const classes = useStyles()\n\n  const [todosOfUser, setTodosOfUser] = useState()\n  const [modalKey, setModalKey] = useState(Math.random())\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.paper}>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography variant=\"h4\" color=\"inherit\">\n              All Todos\n            </Typography>\n          </Grid>\n          <Grid item>\n            <IconButton onClick={() => history.push(\"/\")}>\n              <Home />\n            </IconButton>\n          </Grid>\n        </Grid>\n\n        <TodoTable\n          key={modalKey}\n          todosOfUser={todosOfUser}\n          setTodosOfUser={setTodosOfUser}\n          setModalKey={setModalKey}\n        />\n      </Paper>\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Todos)\n","import React, { useEffect, useState } from \"react\"\nimport { useAuthToken } from \"../context/auth\"\nimport { API } from \"../helpers/api\"\nimport ImageUpload from \"./ImageUpload\"\nimport Home from \"@material-ui/icons/Home\"\nimport { withRouter } from \"react-router-dom\"\nimport {\n  IconButton,\n  Paper,\n  Grid,\n  Typography,\n  makeStyles,\n  Avatar,\n} from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"0px solid blue\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    minWidth: \"50vw\",\n  },\n  paragraph: {\n    marginTop: \"1em\",\n    marginBottom: \"1em\",\n  },\n  large: {\n    width: theme.spacing(9),\n    height: theme.spacing(9),\n  },\n}))\n\nconst Profile = ({ history }) => {\n  const authToken = useAuthToken()\n  const [data, setData] = useState({})\n  const [reload, setReload] = useState(Math.random())\n  const classes = useStyles()\n\n  useEffect(() => {\n    API({ endpoint: \"/api/test/user\" }, authToken)\n      .then((response) => setData(response))\n      .catch((error) => console.log(\"test user error\", error))\n  }, [setData, authToken, reload])\n\n  return (\n    <React.Fragment>\n      <Paper className={classes.paper}>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography variant=\"h4\" color=\"inherit\">\n              Profile page\n            </Typography>\n          </Grid>\n          <Grid item>\n            <IconButton onClick={() => history.push(\"/\")}>\n              <Home />\n            </IconButton>\n          </Grid>\n        </Grid>\n\n        <Typography variant=\"body1\" className={classes.paragraph}>\n          On this page you can find information about the logged in user.\n        </Typography>\n        <Typography variant=\"body1\" className={classes.paragraph}>\n          You are logged in with the username {data?.user?.username}.\n        </Typography>\n        <Typography variant=\"body1\" className={classes.paragraph}>\n          Your avatar link is {data?.user?.avatar}.\n        </Typography>\n        <Avatar\n          src={data?.user?.avatar}\n          className={classes.large}\n          variant=\"square\"\n        />\n        {data?.user?.id && (\n          <React.Fragment>\n            <Typography variant=\"h6\" color=\"inherit\">\n              You can upload new avatar here:\n            </Typography>\n            <ImageUpload\n              key={reload}\n              avatarId={data.user.id}\n              setParentKey={setReload}\n            />\n          </React.Fragment>\n        )}\n      </Paper>\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Profile)\n","import React from \"react\"\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\nimport PrivateRoute from \"./PrivateRoute\"\nimport { AuthProvider } from \"../context/auth\"\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\"\n\nimport theme from \"../mui/theme\"\nimport Header from \"./Header\"\n\nimport Home from \"./Home\"\nimport Login from \"./Login\"\nimport Register from \"./Register\"\nimport Healthcheck from \"./Healthcheck\"\nimport Todos from \"./Todos\"\nimport Profile from \"./Profile\"\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <ThemeProvider theme={theme}>\n        <Router>\n          <Header />\n          <Route path=\"/healthcheck\">\n            <Healthcheck />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/adduser\">\n            <Register />\n          </Route>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <PrivateRoute path=\"/profile\">\n            <Profile />\n          </PrivateRoute>\n          <PrivateRoute path=\"/todos\">\n            <Todos />\n          </PrivateRoute>\n        </Router>\n      </ThemeProvider>\n    </AuthProvider>\n  )\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"));\n"],"sourceRoot":""}
(this["webpackJsonpswicontodo-client"]=this["webpackJsonpswicontodo-client"]||[]).push([[0],{338:function(e,t,a){e.exports=a.p+"static/media/logo2.d2de3a30.svg"},369:function(e,t,a){e.exports=a(434)},434:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),l=a(36),i=a(28),s=a(40),d=a(361),m=a(20),u=Object(n.createContext)(),f=Object(n.createContext)(),p=function(e){var t=e.children,a=JSON.parse(localStorage.getItem("token-sw-todo")),o=Object(n.useState)(a),c=Object(m.a)(o,2),l=c[0],i=c[1];return r.a.createElement(u.Provider,{value:l},r.a.createElement(f.Provider,{value:function(e){!e||"string"!==typeof e||e.length<10?(i(""),localStorage.removeItem("token-sw-todo")):(localStorage.setItem("token-sw-todo",JSON.stringify(e)),i(e))}},t))},b=function(){var e=Object(n.useContext)(u);if(void 0===e)throw new Error("useAuthToken must be used within AuthProvider");return e},g=function(){var e=Object(n.useContext)(f);if(void 0===e)throw new Error("useSetAuthToken must be used within AuthProvider");return e};function E(e){var t=e.children,a=Object(d.a)(e,["children"]),n=b();return r.a.createElement(i.b,a,n?t:r.a.createElement(i.a,{to:{pathname:"/login",state:{referer:Object(s.a)({},a).path}}}))}var h=a(463),v=a(239),O=a.n(v)()({palette:{common:{blue:"#0B72B9",orange:"#FFBA60",brick:"#B73232"},primary:{main:"#0B72B9"},secondary:{main:"#FFBA60"}},typography:{tab:{fontFamily:"Raleway",fontWeight:700,fontSize:"1rem",textTransform:"none"},estimate:{fontFamily:"Pacifico",fontSize:"1rem",textTransform:"none",color:"white"}}}),j=a(454),y=a(308),w=a(453),k=a(100),C=a(256),T=a(467),x=a(456),S=a(309),N=a(338),A=a.n(N),I=Object(C.a)((function(e){return{toolbarMargin:Object(s.a)(Object(s.a)({},e.mixins.toolbar),{},{marginBottom:"3em"}),logoContainer:{margin:0,padding:0,"&:hover":{backgroundColor:"transparent"}},logo:{height:"7em",minWidth:"24em"},tabContainer:{marginLeft:"auto"},tab:Object(s.a)(Object(s.a)({},e.typography.tab),{},{minWidth:10,marginLeft:"25px"}),loginTab:Object(s.a)(Object(s.a)({},e.typography.tab),{},{minWidth:10,marginLeft:"25px",marginRight:"28px"}),hidden:{display:"none"},button:Object(s.a)(Object(s.a)({},e.typography.estimate),{},{borderRadius:"1.4em",marginLeft:"50px",marginRight:"25px",paddingLeft:"25px",paddingRight:"25px",minHeight:"45px"})}})),R=new Map([["/adduser",0],["/todos",1],["/profile",2],["/healthcheck",2],["/login",3]]),P=function(e){var t=e.children,a=e.window,n=Object(w.a)({disableHysteresis:!0,threshold:0,target:a?a():void 0});return r.a.cloneElement(t,{elevation:n?10:0})},F=function(e){var t=b(),a=g(),o=I(),c=Object(i.f)().pathname,s=Object(n.useState)(!1),d=Object(m.a)(s,2),u=d[0],f=d[1];return Object(n.useEffect)((function(){R.has(c)?R.get(c)!==u&&f(R.get(c)):f(!1)}),[c,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P,e,r.a.createElement(j.a,{position:"fixed",color:"primary"},r.a.createElement(y.a,{disableGutters:!0},r.a.createElement(S.a,{component:l.b,to:"/",className:o.logoContainer,disableRipple:!0},r.a.createElement("img",{src:A.a,alt:"Three Layer Todo",className:o.logo})),r.a.createElement(T.a,{value:u,onChange:function(e,t){return f(t)},className:o.tabContainer,indicatorColor:"primary"},r.a.createElement(x.a,{className:o.tab,label:"Add User",component:l.b,to:"/adduser"}),r.a.createElement(x.a,{className:o.tab,label:"Todos",component:l.b,to:"/todos"}),t?r.a.createElement(x.a,{className:o.tab,label:"Profile",component:l.b,to:"/profile"}):r.a.createElement(x.a,{className:o.tab,label:"Healthcheck",component:l.b,to:"/healthcheck"}),t?r.a.createElement(x.a,{className:o.hidden,label:"",component:l.b,to:"/"}):r.a.createElement(x.a,{className:o.loginTab,label:"Login",component:l.b,to:"/login"})),t&&r.a.createElement(S.a,{onClick:function(){return a("")},variant:"contained",color:"secondary",className:o.button},"Logout")))),r.a.createElement("div",{className:o.toolbarMargin},r.a.createElement(k.a,{variant:"h3",color:"secondary"},"Toolbar")))},B=a(131),U=a.n(B),M=a(342),W=a.n(M),L=a(352),D=a.n(L),K=a(343),z=a.n(K),J=a(350),H=a.n(J),V=a(252),G=a.n(V),q=a(251),Y=a.n(q),Q=a(344),X=a.n(Q),Z=a(345),$=a.n(Z),_=a(347),ee=a.n(_),te=a(348),ae=a.n(te),ne=a(349),re=a.n(ne),oe=a(353),ce=a.n(oe),le=a(346),ie=a.n(le),se=a(351),de=a.n(se),me=a(354),ue=a.n(me),fe=a(355),pe=a.n(fe),be=a(356),ge=a.n(be),Ee=a(357),he=a.n(Ee),ve=a(99),Oe=a.n(ve),je={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(X.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ee.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(re.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),ListAlt:Object(n.forwardRef)((function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),Person:Object(n.forwardRef)((function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))})),Face:Object(n.forwardRef)((function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))})),Close:Object(n.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))}))};function ye(e,t){var a=e.endpoint,n=void 0===a?"":a,r=e.method,o=void 0===r?"GET":r,c=e.data,l=void 0===c?{}:c,i={method:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}};return"POST"!==o&&"PUT"!==o||(i=Object(s.a)(Object(s.a)({},i),{},{body:JSON.stringify(l)})),fetch(n,i).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}var we=a(468);function ke(e){var t=e.setTodosOfUser,a=e.setAvatarId,o=Object(n.useState)([]),c=Object(m.a)(o,2),l=c[0],i=c[1],s=b();if(Object(n.useEffect)((function(){ye({endpoint:"/api/user"}).then((function(e){i((null===e||void 0===e?void 0:e.users)||[])}))}),[i]),!Array.isArray(l))return r.a.createElement("p",null,"Waiting for users...");var d=function(e,t){return e?r.a.createElement(we.a,{alt:"Avatar",src:e,variant:"square"}):r.a.createElement(we.a,{variant:"square"},t[0])};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h4"},"List of users"),r.a.createElement(U.a,{components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e8eaf5"}},r.a.createElement(B.MTableToolbar,e))}},columns:[{title:"ID",field:"id"},{title:"User",headerStyle:{paddingLeft:"100px"},defaultSort:"asc",field:"username",render:function(e){return function(e){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"85px",textAlign:"center"}},d(e.avatar,e.username)),e.username)}(e)}}],data:l,title:"Users",icons:je,actions:[{icon:je.ListAlt,tooltip:"Show Todos",disabled:!s,onClick:function(e,a){t(a.id)}},{icon:je.Face,tooltip:"Upload avatar",disabled:!s,onClick:function(e,t){var n;n=t.id,a(n)}}],options:{actionsColumnIndex:-1}}))}var Ce=a(322),Te=a(204),xe=a(447),Se=a(365),Ne=a(253),Ae=a.n(Ne),Ie=a(358),Re=a(464),Pe=a(465),Fe=a(237),Be=a(466),Ue=a(321),Me=a(132),We={owner:null,todotitle:"",todobody:""},Le=function(e){return r.a.createElement("div",{className:"errormessage",style:{color:"red"}},r.a.createElement(Me.a,e))},De=function(e){var t=e.edited,a=e.setEdited,o=e.newTodoForUserId,c=e.setModalKey,l=b(),i=Object(n.useState)(We),s=Object(m.a)(i,2),d=s[0],u=s[1],f=Object(n.useCallback)(Object(Ie.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"number"!==typeof t){e.next=9;break}return console.log("Loading default values of todo ",t),e.next=4,ye({endpoint:"/api/todo/".concat(t)},l);case 4:a=e.sent,console.log("Initializing with",(null===a||void 0===a?void 0:a.todo)||We),u((null===a||void 0===a?void 0:a.todo)||We),e.next=11;break;case 9:console.log("Initializing with defaults."),u(We);case 11:case"end":return e.stop()}}),e)}))),[l,t]);Object(n.useEffect)((function(){f()}),[f]);return console.log("Editor renders:",t,d),r.a.createElement(Re.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Me.d,{initialValues:d,enableReinitialize:!0,onSubmit:function(e,t){!function(e){var t={owner:o,todotitle:e.todotitle,todobody:e.todobody};e.owner?ye({endpoint:"/api/todo/".concat(e.id),method:"PUT",data:t},l).then((function(e){console.log("Save response: ",e),a(!1),c(Math.random())})):ye({endpoint:"/api/todo",method:"POST",data:t},l).then((function(e){console.log("Create todo response: ",e),a(!1),c(Math.random())}))}(e)}},(function(e){e.values,e.errors;var t=e.isSubmitting,a=e.isValidating;return r.a.createElement(Me.c,null,r.a.createElement(Fe.a,{marginBottom:2},r.a.createElement(Be.a,null,r.a.createElement(Me.b,{name:"todotitle",as:Ue.a,label:"Todo Title"}),r.a.createElement("div",{className:"errormessage"},r.a.createElement(Le,{name:"todotitle"})))),r.a.createElement(Fe.a,{marginBottom:2},r.a.createElement(Be.a,null,r.a.createElement(Me.b,{name:"todobody",as:Ue.a,multiline:!0,rows:3,rowsMax:10,label:"Todo Body"}),r.a.createElement(Le,{name:"todobody"}))),r.a.createElement(S.a,{type:"submit",disabled:t||a},"Submit"))}))))},Ke=a(129),ze=a(461),Je=a(243),He=Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ve=function(e){var t=e.edited,a=e.setEdited,n=e.newTodoForUserId,o=e.setModalKey,c=He(),l=function(){a(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:!!t,onClose:l,closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500}},r.a.createElement(Se.a,{in:!!t},r.a.createElement(Ke.a,{className:c.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between"},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"Todo editor")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:l},r.a.createElement(Oe.a,null)))),r.a.createElement(De,{edited:t,setEdited:a,newTodoForUserId:n,setModalKey:o})))))},Ge=[{title:"ID",field:"id"},{title:"Todo Title",field:"todotitle"},{title:"Todo Body",field:"todobody"}],qe=[{title:"ID",field:"id"},{title:"Owner ID",field:"owner"},{title:"Todo Title",field:"todotitle"},{title:"Todo Body",field:"todobody"}],Ye=function(e){var t=e.todosOfUser,a=e.setModalKey,o=b(),c=Object(n.useState)([]),l=Object(m.a)(c,2),i=l[0],s=l[1],d=Object(n.useState)(),u=Object(m.a)(d,2),f=u[0],p=u[1];Object(n.useEffect)((function(){ye({endpoint:t?"/api/todosofuser/".concat(t):"/api/todo"},o).then((function(e){s((null===e||void 0===e?void 0:e.todos)||[])}))}),[s,t,o]);return Array.isArray(i)?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{components:{Toolbar:function(e){return r.a.createElement("div",{style:{backgroundColor:"#e8eaf5"}},r.a.createElement(B.MTableToolbar,e))}},columns:t?Ge:qe,data:i,title:t?"Todos for User":"All todos",icons:je,actions:[{icon:je.Edit,tooltip:"Edit Todo",onClick:function(e,t){var a;a=t.id,console.log("Edit todo",a),p(a)}},{icon:je.Delete,tooltip:"Remove Todo",onClick:function(e,t){var n;n=t.id,console.log("REMOVE todo",n),ye({endpoint:"/api/todo/".concat(n),method:"DELETE"},o).then((function(e){console.log("DELETE todo response",e),a(Math.random())}))}},{icon:je.Add,disabled:!t,tooltip:"Add New Todo",isFreeAction:!0,onClick:function(e,a){t?(console.log("Add new todo for user",t),p(!0)):console.log("AddNewTodo called, but no user ID present!")}}],options:{actionsColumnIndex:-1}}),r.a.createElement(Ve,{edited:f,setEdited:p,newTodoForUserId:t,setModalKey:a})):r.a.createElement("p",null,"Waiting for todos...")},Qe=Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"50vw"}}}));function Xe(e){var t=e.todosOfUser,a=e.setTodosOfUser,o=Qe(),c=Object(n.useState)(Math.random()),l=Object(m.a)(c,2),i=l[0],s=l[1],d=function(){a(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:!!t,onClose:d,closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500}},r.a.createElement(Se.a,{in:!!t},r.a.createElement(Ke.a,{className:o.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between"},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"Todos of User id ",t)),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:d},r.a.createElement(Oe.a,null)))),r.a.createElement(Ye,{key:i,todosOfUser:t,setModalKey:s})))))}var Ze=function(e){var t=e.errorText,a=e.avatarId,o=e.setAvatarId,c=e.setParentKey,l=Object(n.useState)(),i=Object(m.a)(l,2),s=i[0],d=i[1],u=Object(n.useState)(),f=Object(m.a)(u,2),p=f[0],g=f[1],E=Object(n.useState)(!1),h=Object(m.a)(E,2),v=h[0],O=h[1],j=Object(n.useRef)(),y=b();Object(n.useEffect)((function(){if(s){var e=new FileReader;e.onload=function(){g(e.result)},e.readAsDataURL(s)}}),[s]);return r.a.createElement("div",null,r.a.createElement("input",{id:"avatarpicker-"+a,type:"file",ref:j,style:{display:"none"},accept:".jpg,.png,.jpeg,.webm,.gif",onChange:function(e){var t;if((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files)||e.target.files.length>0){var a=e.target.files[0];d(a),O(!0)}else O(!1)}}),r.a.createElement("div",null,r.a.createElement("div",{style:{border:"1px solid black",height:270,width:270}},p&&r.a.createElement("img",{src:p,alt:"Preview",style:{maxWidth:250,maxHeight:250}})),r.a.createElement(S.a,{variant:"contained",color:"secondary",style:{minWidth:120,marginTop:"2em",marginBottom:"1em",marginRight:"1em"},onClick:function(e){j.current.click()}},"Pick Image"),r.a.createElement(S.a,{variant:"contained",color:"primary",style:{minWidth:120,marginTop:"2em",marginBottom:"1em"},onClick:function(e){try{var t=new FormData;t.append("image",s),t.append("userId",a),function(e,t,a){var n={method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:t};return fetch("/api/userimage/".concat(e),n).then((function(e){return e.json()})).catch((function(e){console.error(e)}))}(a,t,y).then((function(e){console.log("Image uploaded:",e),o&&o(!1),c(Math.random())})).catch((function(e){return console.log("test user error",e)}))}catch(n){console.log(n)}}},"SAVE")),!v&&r.a.createElement("p",null,t))},$e=Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},centerContent:{maxWidth:"300px",margin:"auto"}}})),_e=function(e){var t=e.avatarId,a=e.setAvatarId,n=e.setParentKey,o=(e.history,$e()),c=function(){a(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:!!t,onClose:c,closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500}},r.a.createElement(Se.a,{in:!!t},r.a.createElement(Ke.a,{className:o.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h6",color:"inherit"},"Upload User Image")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:c},r.a.createElement(Oe.a,null)))),r.a.createElement(Fe.a,null,r.a.createElement(Ze,{avatarId:t,setAvatarId:a,setParentKey:n}))))))};function et(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(m.a)(c,2),i=l[0],s=l[1],d=Object(n.useState)(Math.random()),u=Object(m.a)(d,2),f=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{key:f,todosOfUser:a,setTodosOfUser:o,setAvatarId:s,setUsersTableKey:p}),r.a.createElement(Xe,{todosOfUser:a,setTodosOfUser:o}),r.a.createElement(_e,{avatarId:i,setAvatarId:s,setParentKey:p}))}var tt=a(84),at=a.n(tt),nt=Object(Ce.a)((function(e){return{button:Object(s.a)(Object(s.a)({},e.typography.tab),{},{minWidth:10,marginTop:"2em",marginBottom:"1em"}),textfield:{marginTop:"0.7em",marginBottom:"0.7em",maxWidth:"250px"}}}));function rt(e){var t=e.submitText,a=e.submitAction,o=nt(),c=Object(n.useState)(""),l=Object(m.a)(c,2),i=l[0],s=l[1],d=Object(n.useState)(""),u=Object(m.a)(d,2),f=u[0],p=u[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(i,f)}},r.a.createElement(Fe.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ue.a,{label:"Username",name:"username",type:"text",placeholder:"username",value:i,className:o.textfield,onChange:function(e){return s(e.target.value)}}))),r.a.createElement(Fe.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ue.a,{label:"Password",name:"password",type:"password",placeholder:"password",className:o.textfield,value:f,onChange:function(e){return p(e.target.value)}}))),r.a.createElement(S.a,{variant:"contained",color:"secondary",type:"submit",className:o.button},t))}var ot=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"50vw"},centerContent:{maxWidth:"300px",margin:"auto"}}})),ct=Object(i.g)((function(e){var t,a,n=e.history,o=ot(),c=b(),s=g(),d=(null===n||void 0===n||null===(t=n.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.referer)||"/";return c?r.a.createElement(i.a,{to:d}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{className:o.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between",className:o.centerContent},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"Login")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:function(){return n.push("/")}},r.a.createElement(at.a,null)))),r.a.createElement(Re.a,{className:o.centerContent},r.a.createElement(Pe.a,null,r.a.createElement(rt,{submitAction:function(e,t){(function(e){var t=e.username,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,o={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:r})};return fetch("/api/auth/signin",o).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})({username:e,password:t}).then((function(e){e.accessToken?s(e.accessToken):console.error(e.reason)})).catch((function(e){console.log(e)}))},submitText:"Sign In"}),r.a.createElement(l.b,{to:"/adduser"},"Don't have a user yet? Go to Add User page!")))))})),lt=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"50vw"},centerContent:{maxWidth:"300px",margin:"auto"}}})),it=Object(i.g)((function(e){var t=e.history,a=lt(),n=b();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{className:a.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between",className:a.centerContent},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"Add new user")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:function(){return t.push("/")}},r.a.createElement(at.a,null)))),r.a.createElement(Re.a,{className:a.centerContent},r.a.createElement(Pe.a,null,r.a.createElement(rt,{submitAction:function(e,t){(function(e){var t=e.username,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,o={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:r})};return fetch("/api/auth/signup",o).then((function(e){return e.json()})).catch((function(e){console.error(e)}))})({username:e,password:t}).then((function(e){200===e.status?console.log(e.message):e.status>=400&&console.error(e.message)}))},submitText:"Register"}),n?r.a.createElement(l.b,{to:"/"},"Back to homepage"):r.a.createElement(l.b,{to:"/login"},"Go to login page.")))))})),st=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"50vw"},centerContent:{maxWidth:"300px",margin:"auto"},paragraph:{marginTop:"1em",marginBottom:"1em"}}})),dt=Object(i.g)((function(e){var t=e.history,a=st(),o=b(),c=Object(n.useState)([]),l=Object(m.a)(c,2),i=l[0],s=l[1];return Object(n.useEffect)((function(){ye({endpoint:"/api/test/healthcheck"},o).then((function(e){return s(e)}))}),[s,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{className:a.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between",className:a.centerContent},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"Healthcheck")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:function(){return t.push("/")}},r.a.createElement(at.a,null)))),r.a.createElement(Re.a,{className:a.centerContent},r.a.createElement(Pe.a,null,r.a.createElement(k.a,{variant:"h6",color:"inherit"},"Checking connection"),r.a.createElement(Fe.a,{className:a.paragraph},(null===i||void 0===i?void 0:i.healthcheck)?"Server is connected":"No HC response from server.")))))})),mt=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"50vw"}}})),ut=Object(i.g)((function(e){var t=e.history,a=mt(),o=Object(n.useState)(),c=Object(m.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(Math.random()),d=Object(m.a)(s,2),u=d[0],f=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{className:a.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between"},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"All Todos")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:function(){return t.push("/")}},r.a.createElement(at.a,null)))),r.a.createElement(Ye,{key:u,todosOfUser:l,setTodosOfUser:i,setModalKey:f})))})),ft=Object(Ce.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"0px solid blue",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"50vw"},paragraph:{marginTop:"1em",marginBottom:"1em"},large:{width:e.spacing(9),height:e.spacing(9)}}})),pt=Object(i.g)((function(e){var t,a,o,c,l=e.history,i=b(),s=Object(n.useState)({}),d=Object(m.a)(s,2),u=d[0],f=d[1],p=Object(n.useState)(Math.random()),g=Object(m.a)(p,2),E=g[0],h=g[1],v=ft();return Object(n.useEffect)((function(){ye({endpoint:"/api/test/user"},i).then((function(e){return f(e)})).catch((function(e){return console.log("test user error",e)}))}),[f,i,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{className:v.paper},r.a.createElement(ze.a,{container:!0,justify:"space-between"},r.a.createElement(ze.a,{item:!0},r.a.createElement(k.a,{variant:"h4",color:"inherit"},"Profile page")),r.a.createElement(ze.a,{item:!0},r.a.createElement(Je.a,{onClick:function(){return l.push("/")}},r.a.createElement(at.a,null)))),r.a.createElement(k.a,{variant:"body1",className:v.paragraph},"On this page you can find information about the logged in user."),r.a.createElement(k.a,{variant:"body1",className:v.paragraph},"You are logged in with the username ",null===u||void 0===u||null===(t=u.user)||void 0===t?void 0:t.username,"."),r.a.createElement(k.a,{variant:"body1",className:v.paragraph},"Your avatar link is ",null===u||void 0===u||null===(a=u.user)||void 0===a?void 0:a.avatar,"."),r.a.createElement(we.a,{src:null===u||void 0===u||null===(o=u.user)||void 0===o?void 0:o.avatar,className:v.large,variant:"square"}),(null===u||void 0===u||null===(c=u.user)||void 0===c?void 0:c.id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h6",color:"inherit"},"You can upload new avatar here:"),r.a.createElement(Ze,{key:E,avatarId:u.user.id,setParentKey:h}))))}));function bt(){return r.a.createElement(p,null,r.a.createElement(h.a,{theme:O},r.a.createElement(l.a,null,r.a.createElement(F,null),r.a.createElement(i.b,{path:"/healthcheck"},r.a.createElement(dt,null)),r.a.createElement(i.b,{path:"/login"},r.a.createElement(ct,null)),r.a.createElement(i.b,{path:"/adduser"},r.a.createElement(it,null)),r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(et,null)),r.a.createElement(E,{path:"/profile"},r.a.createElement(pt,null)),r.a.createElement(E,{path:"/todos"},r.a.createElement(ut,null)))))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(bt,null)),document.getElementById("root"))}},[[369,1,2]]]);
//# sourceMappingURL=main.572b12c3.chunk.js.map